!function(e){function t(e){var t=["li","p","h1","h2","h3","h4","h5","h6","dd"];return t.forEach(function(t){e=e.replace("</"+t+">",".")}),e=e.replace(/<[^>]+>/g,"").replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/^\s+/,"").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,".").replace(/[ ]*([\.])/,". ").replace(/\s+/," ").replace(/\s+$/,""),e+="."}function r(e){return new n(e)}var n=function(e){this.text=e?t(e):this.text};n.prototype.fleschKincaidReadingEase=function(e){return e=e?t(e):this.text,Math.round(10*(206.835-1.015*this.averageWordsPerSentence(e)-84.6*this.averageSyllablesPerWord(e)))/10},n.prototype.fleschKincaidGradeLevel=function(e){return e=e?t(e):this.text,Math.round(10*(.39*this.averageWordsPerSentence(e)+11.8*this.averageSyllablesPerWord(e)-15.59))/10},n.prototype.automatedReadabilityIndex=function(e){return e=e?t(e):this.text,Math.round(10*(4.71*(this.letterCount(e)/this.wordCount(e))+.5*(this.wordCount(e)/this.sentenceCount(e))-21.43))/10},n.prototype.textLength=function(e){return e=e?t(e):this.text,e.length},n.prototype.letterCount=function(e){return e=e?t(e):this.text,e=e.replace(/[^a-z]+/gi,""),e.length},n.prototype.sentenceCount=function(e){return e=e?t(e):this.text,e.replace(/[^\.!?]/g,"").length||1},n.prototype.wordCount=function(e){return e=e?t(e):this.text,e.split(/[^a-z0-9]+/i).length||1},n.prototype.averageWordsPerSentence=function(e){return e=e?t(e):this.text,this.wordCount(e)/this.sentenceCount(e)},n.prototype.averageSyllablesPerWord=function(e){e=e?t(e):this.text;var r=0,n=this.wordCount(e),i=this;return e.split(/\s+/).forEach(function(e){r+=i.syllableCount(e)}),(r||1)/(n||1)},n.prototype.wordsWithThreeSyllables=function(e,r){e=e?t(e):this.text;var n=0,i=this;return r=r!==!1,e.split(/\s+/).forEach(function(e){e.match(/^[A-Z]/)&&!r||i.syllableCount(e)>2&&n++}),n},n.prototype.percentageWordsWithThreeSyllables=function(e,r){return e=e?t(e):this.text,this.wordsWithThreeSyllables(e,r)/this.wordCount(e)*100},n.prototype.syllableCount=function(e){var t=0,r=0,n=0;e=e.toLowerCase().replace(/[^a-z]/g,"");var i={simile:3,forever:3,shoreline:2};if(i.hasOwnProperty(e))return i[e];var o=[/cial/,/tia/,/cius/,/cious/,/giu/,/ion/,/iou/,/sia$/,/[^aeiuoyt]{2,}ed$/,/.ely$/,/[cg]h?e[rsd]?$/,/rved?$/,/[aeiouy][dt]es?$/,/[aeiouy][^aeiouydt]e[rsd]?$/,/^[dr]e[aeiou][^aeiou]+$/,/[aeiouy]rse$/],a=[/ia/,/riet/,/dien/,/iu/,/io/,/ii/,/[aeiouym]bl$/,/[aeiou]{3}/,/^mc/,/ism$/,/([^aeiouy])\1l$/,/[^l]lien/,/^coa[dglx]./,/[^gq]ua[^auieo]/,/dnt$/,/uity$/,/ie(r|st)$/],s=[/^un/,/^fore/,/ly$/,/less$/,/ful$/,/ers?$/,/ings?$/];return s.forEach(function(t){e.match(t)&&(e=e.replace(t,""),r++)}),n=e.split(/[^aeiouy]+/gi).filter(function(e){return!!e.replace(/\s+/gi,"").length}).length,t=n+r,o.forEach(function(r){e.match(r)&&t--}),a.forEach(function(r){e.match(r)&&t++}),t||1},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define?define("textStatistics",[],function(){return r}):e.textStatistics=r}(this);
